# Next.js MealCreator - Development Order Guide

This document outlines the recommended order for building the React/Next.js version of MealCreator.

---

## 🚨 Important Notes

- **NEVER edit the `.next` folder** - It's auto-generated by Next.js
- This is a guideline, not a strict rule - adjust as needed
- You can iterate and go back to previous stages as you learn
- Each stage builds on the previous ones

---

## Development Stages

### ✅ Stage 0: Foundation (`lib/` folder)
**Status: COMPLETED**

Create foundational utilities and type definitions that will be used throughout the app.

```
lib/
├── types.ts       ← Type definitions for Meal, PantryItem, ShoppingListItem, User
└── data.ts        ← Constants, default values, helper functions
```

**What was created:**
- ✅ Interface definitions matching MongoDB models
- ✅ Constants for categories, tags, units
- ✅ Default object templates
- ✅ Helper functions (getCategoryDisplayName, sortTags, getCategoryIconUrl)

**Why first?** These provide type safety and reusable constants for the entire app.

---

### 📋 Stage 1: Next.js Configuration
**Status: TODO**

Set up the core Next.js project configuration files.

```
REACT PROJECT/
├── package.json          ← Dependencies & npm scripts
├── tsconfig.json         ← TypeScript configuration
├── next.config.js        ← Next.js configuration
├── .gitignore           ← Git ignore rules
└── .env.local           ← Environment variables (API URLs, etc.)
```

**Key tasks:**
- [ ] Initialize `package.json` with Next.js dependencies
- [ ] Configure TypeScript (`tsconfig.json`)
- [ ] Set up Next.js config (`next.config.js`)
- [ ] Add environment variables for API endpoints
- [ ] Install dependencies: `npm install`

**Dependencies needed:**
```json
{
  "next": "^14.0.0",
  "react": "^18.0.0",
  "react-dom": "^18.0.0",
  "typescript": "^5.0.0",
  "@types/react": "^18.0.0",
  "@types/node": "^20.0.0"
}
```

**Why second?** You need these files to run Next.js at all.

---

### 🏗️ Stage 2: App Structure (`app/` folder)
**Status: TODO**

Create the basic Next.js 13+ App Router structure with root layout and home page.

```
app/
├── layout.tsx           ← Root layout (wraps all pages)
├── page.tsx             ← Home page (/)
├── globals.css          ← Global styles
└── favicon.ico          ← App icon
```

**Key tasks:**
- [ ] Create root `layout.tsx` with HTML structure
- [ ] Create home `page.tsx`
- [ ] Set up `globals.css` with base styles
- [ ] Test that app runs with `npm run dev`

**Example `layout.tsx`:**
```tsx
export default function RootLayout({
  children,
}: {
  children: React.ReactNode
}) {
  return (
    <html lang="en">
      <body>{children}</body>
    </html>
  )
}
```

**Why third?** This gives you a working app you can view in the browser at `http://localhost:3000`.

---

### 🧩 Stage 3: Reusable Components
**Status: TODO**

Build a library of reusable UI components that will be used across pages.

```
components/
├── ui/                       ← Basic UI components
│   ├── Button.tsx
│   ├── Card.tsx
│   ├── Input.tsx
│   ├── Modal.tsx
│   └── LoadingSpinner.tsx
├── layout/                   ← Layout components
│   ├── Navbar.tsx
│   ├── Footer.tsx
│   └── Container.tsx
├── meal/                     ← Meal-specific components
│   ├── MealCard.tsx
│   ├── MealForm.tsx
│   └── MealList.tsx
├── pantry/                   ← Pantry-specific components
│   ├── PantryItem.tsx
│   ├── PantryCategory.tsx
│   └── PantryForm.tsx
└── shopping-list/            ← Shopping list components
    ├── ShoppingListItem.tsx
    └── ShoppingListForm.tsx
```

**Development order within Stage 3:**
1. **UI components** (Button, Card, Input) - used everywhere
2. **Layout components** (Navbar, Footer) - frame the app
3. **Feature-specific components** (Meal, Pantry, Shopping List)

**Why fourth?** You'll use these components in your pages and forms.

---

### 🔌 Stage 4: API Communication
**Status: TODO**

Set up communication between frontend and your existing Node.js backend.

**Option A: Direct API calls to existing backend**
```
lib/
└── api.ts              ← API helper functions
```

**Option B: Next.js API routes (proxy layer)**
```
app/
└── api/
    ├── meals/
    │   └── route.ts
    ├── pantry/
    │   └── route.ts
    └── shopping-list/
        └── route.ts
```

**Key tasks:**
- [ ] Create fetch wrapper functions
- [ ] Handle authentication/sessions
- [ ] Add error handling
- [ ] Test API connections

**Example API helper (`lib/api.ts`):**
```typescript
export async function getMeals() {
  const response = await fetch('/api/meals');
  return response.json();
}
```

**Why fifth?** Now you can connect your UI to your existing backend.

---

### 📄 Stage 5: Pages & Routes
**Status: TODO**

Build out all the different pages and routes for your application.

```
app/
├── page.tsx                     ← Home page (/)
├── meals/
│   ├── page.tsx                 ← Meals list (/meals)
│   ├── [id]/
│   │   ├── page.tsx             ← Meal detail (/meals/123)
│   │   └── edit/
│   │       └── page.tsx         ← Edit meal (/meals/123/edit)
│   └── new/
│       └── page.tsx             ← Create new meal (/meals/new)
├── pantry/
│   └── page.tsx                 ← Pantry page (/pantry)
├── shopping-list/
│   └── page.tsx                 ← Shopping list (/shopping-list)
├── meal-selector/               ← Meal selection wizard
│   ├── page.tsx                 ← First page
│   ├── filter/
│   │   └── page.tsx             ← Filter page
│   └── results/
│       └── page.tsx             ← Results page
└── auth/
    ├── login/
    │   └── page.tsx             ← Login page
    └── register/
        └── page.tsx             ← Register page
```

**Development order within Stage 5:**
1. **Home page** - Landing/dashboard
2. **Auth pages** - Login/Register
3. **Meals pages** - List, view, create, edit
4. **Pantry page** - Manage pantry items
5. **Shopping list page** - Manage shopping list
6. **Meal selector** - Multi-step wizard

**Why sixth?** By now you have components and API routes ready to use in your pages.

---

### ✨ Stage 6: Advanced Features
**Status: TODO**

Add advanced functionality and polish.

**Features to implement:**
- [ ] User authentication & session management
- [ ] Image uploads to Cloudinary
- [ ] Search & filtering functionality
- [ ] Meal selector logic (matching algorithm)
- [ ] Drag & drop for organizing
- [ ] Responsive design (mobile/tablet)
- [ ] Dark mode (optional)
- [ ] Loading states & error boundaries
- [ ] Form validation
- [ ] Optimistic UI updates

**Why last?** These features enhance the core functionality you've already built.

---

## 📊 Visual Development Flow

```
Stage 0: lib/ (types & data)
    ↓
Stage 1: Next.js Config Files
    ↓
Stage 2: app/layout.tsx + app/page.tsx
    ↓
Stage 3: components/
    ↓
Stage 4: API communication
    ↓
Stage 5: All pages/routes
    ↓
Stage 6: Advanced features & polish
```

---

## 🎯 Current Status

- [x] **Stage 0**: Foundation (`lib/types.ts`, `lib/data.ts`)
- [ ] **Stage 1**: Next.js configuration
- [ ] **Stage 2**: Basic app structure
- [ ] **Stage 3**: Reusable components
- [ ] **Stage 4**: API communication
- [ ] **Stage 5**: Pages & routes
- [ ] **Stage 6**: Advanced features

---

## 📚 Additional `lib/` Files to Add Later

As you build, you may want to add:

```
lib/
├── types.ts          ← ✅ Done
├── data.ts           ← ✅ Done
├── utils.ts          ← General utility functions
├── api.ts            ← API call wrappers
├── hooks.ts          ← Custom React hooks
├── validations.ts    ← Form validation schemas (Zod/Yup)
└── context/          ← React Context providers
    ├── AuthContext.tsx
    └── ThemeContext.tsx
```

---

## 🔄 Iterative Development

Remember: This is a guide, not a strict rulebook!

- You can go back and add to `lib/` at any time
- Components can be built as you need them
- Pages can be built in any order that makes sense
- The key is to have a plan, but be flexible

---

## 🚀 Getting Started with Next Steps

**Ready to move to Stage 1?** Run these commands:

```bash
cd "REACT PROJECT"
npm init -y
npm install next@latest react@latest react-dom@latest typescript@latest
npm install --save-dev @types/react @types/node
npx tsc --init
```

Then create your config files and you're off to the races!

---

**Last Updated:** October 20, 2025
**Current Stage:** Stage 0 (Complete)
**Next Stage:** Stage 1 - Next.js Configuration

